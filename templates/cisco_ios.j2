{% if clock %}
clock timezone {{ clock.timezone }}
{% for ntp in clock.ntp_servers %}
ntp server {{ ntp }}
{% endfor %}
!
{% endif %}
{% for iface in interfaces %}
interface {{ iface.name }}
{% if iface.description %} description {{ iface.description }}{% endif %}
{% if iface.ip_address and iface.subnet_mask %} ip address {{ iface.ip_address }} {{ iface.subnet_mask }}{% endif %}
{% if iface.enabled|default(true) %} no shutdown{% else %} shutdown{% endif %}
!
{% endfor %}
{% if bgp %}
router bgp {{ bgp.asn }}
{% for neigh in bgp.neighbors %}
 neighbor {{ neigh.peer_ip }} remote-as {{ neigh.remote_as }}
{% if neigh.description %} neighbor {{ neigh.peer_ip }} description {{ neigh.description }}{% endif %}
{% endfor %}
!
{% endif %}
